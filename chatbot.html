<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ali AI - Sri Lanka Wildlife Chatbot</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
<style>
body { font-family: 'Roboto', sans-serif; margin:0; background:#f0f2f5; display:flex; justify-content:center; align-items:center; height:100vh; }
#chatContainer { width:100%; max-width:450px; background:#fff; border-radius:12px; box-shadow:0 4px 10px rgba(0,0,0,0.2); display:flex; flex-direction:column; height:90vh; overflow:hidden; }
#chatWindow { flex:1; padding:10px; overflow-y:auto; }
.message { max-width:80%; margin:5px 0; padding:10px 14px; border-radius:15px; word-wrap:break-word; }
.user { background:#2e7d32; color:#fff; align-self:flex-end; border-bottom-right-radius:0; }
.bot { background:#e0e0e0; color:#000; align-self:flex-start; border-bottom-left-radius:0; }
#chatInput { display:flex; border-top:1px solid #ccc; }
#chatInput input { flex:1; padding:10px; border:none; outline:none; font-size:1rem; }
#chatInput button { padding:10px 15px; border:none; background:#2e7d32; color:#fff; cursor:pointer; font-size:1rem; }
@media(max-width:500px){ #chatContainer { height:95vh; } }
</style>
</head>
<body>
<div id="chatContainer">
  <div id="chatWindow"></div>
  <div id="chatInput">
    <input type="text" id="userInput" placeholder="Type your message...">
    <button id="sendBtn">Send</button>
  </div>
</div>

<script>
const knowledgeBase = [
{ q: ["hi","hello","hey"], a:"Hello! I'm Ali, your guide to Sri Lanka wildlife and tourism." },
{ q: ["who created ema","creator of ema"], a:"EMA was created by Aveesha Ninsara Pelawaththa." },
{ q: ["what is ema","ema"], a:"EMA stands for Elephant Monitoring App, used to monitor elephants in Sri Lanka." },
{ q: ["national parks","parks in sri lanka"], a:"Sri Lanka has parks like Yala, Wilpattu, Udawalawe, and Minneriya for wildlife." },
{ q: ["elephant","elephants"], a:"Sri Lankan elephants are native to the island and often seen in national parks." },
{ q: ["leopard","leopards"], a:"The Sri Lankan leopard is an endemic species, mostly found in Yala National Park." },
{ q: ["mirissa","mirissa beach"], a:"Mirissa is a beautiful coastal town, famous for whale watching and beaches." },
{ q: ["sigiriya","lion rock"], a:"Sigiriya is a UNESCO World Heritage site with an ancient rock fortress." },
{ q: ["kandy","temple of the tooth"], a:"Kandy is famous for the Temple of the Tooth Relic and cultural festivals." },
{ q: ["galle","fort galle"], a:"Galle Fort is a historic fort and a UNESCO World Heritage Site." },
{ q: ["yala","yala national park"], a:"Yala National Park is ideal for spotting elephants and leopards." },
{ q: ["udawalawe","udawalawe national park"], a:"Udawalawe National Park is famous for elephant herds and safaris." },
{ q: ["minneriya","minneriya national park"], a:"Minneriya is known for the 'Gathering', where hundreds of elephants come together." },
{ q: ["bird watching","birds"], a:"Sri Lanka has over 400 bird species, many endemic. Sinharaja Forest is ideal for birdwatching." },
{ q: ["sinharaja","rainforest"], a:"Sinharaja Forest Reserve is a tropical rainforest and a UNESCO World Heritage Site." },
{ q: ["eco tourism","sustainable tourism"], a:"Eco-tourism supports conservation and benefits local communities in Sri Lanka." },
{ q: ["sri lanka","tourism"], a:"Sri Lanka offers rich biodiversity, cultural sites, beaches, and wildlife experiences." },
{ q: ["beaches","coast"], a:"Sri Lanka has beautiful beaches like Mirissa, Unawatuna, Bentota, and Arugam Bay." },
{ q: ["whale watching","whales"], a:"Mirissa and Trincomalee are popular spots for whale and dolphin watching." },
{ q: ["turtle","turtles"], a:"Sri Lanka's southern coast has turtle conservation sites, including Kosgoda and Rekawa." },
{ q: ["what can i do","activities"], a:"You can visit national parks, beaches, cultural sites, and enjoy eco-tourism activities." },
{ q: ["food","sri lankan food"], a:"Try local dishes like rice and curry, hoppers, string hoppers, kottu, and seafood." },
{ q: ["thank you","thanks"], a:"You're welcome! I'm here to help with Sri Lanka wildlife, tourism, or EMA info." },
{ q: ["bye","goodbye"], a:"Goodbye! Enjoy your Sri Lanka adventure!" }
];

const chatWindow = document.getElementById("chatWindow");
const userInput = document.getElementById("userInput");
const sendBtn = document.getElementById("sendBtn");

function appendMessage(message, sender){
  const div = document.createElement("div");
  div.className = `message ${sender}`;
  div.textContent = message;
  chatWindow.appendChild(div);
  chatWindow.scrollTop = chatWindow.scrollHeight;
}

function getReply(text){
  text = text.toLowerCase();
  for(let i=0;i<knowledgeBase.length;i++){
    for(let j=0;j<knowledgeBase[i].q.length;j++){
      if(text.includes(knowledgeBase[i].q[j])){
        return knowledgeBase[i].a;
      }
    }
  }
  return "Sorry, I can only answer about Sri Lanka wildlife, tourism, or EMA.";
}

function sendMessage(){
  const text = userInput.value.trim();
  if(!text) return;
  appendMessage(text,"user");
  const reply = getReply(text);
  setTimeout(()=> appendMessage(reply,"bot"), 500);
  userInput.value = "";
}

sendBtn.addEventListener("click",sendMessage);
userInput.addEventListener("keypress",function(e){ if(e.key==="Enter") sendMessage(); });
</script>
</body>
</html>
